<!DOCTYPE html>
<html>
    <head>
    	<title>MakeupBot</title>
        <link rel='stylesheet' type='text/css' href='static/stylesheet.css'/>
        <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
        <script src="static/jquery.min.js"></script>
        <script type="text/javascript" src="static/json2.js"></script>
        <script type="text/javascript" src="static/javascript.js"></script>
        <script type="text/javascript" src="static/webcam.js"></script>
        <script src="//code.jquery.com/jquery-1.12.4.js"></script>
  		<script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <!link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">
    </head>
	<body>

		<!- - - - - - - - - - - - - - - - - - - - side navigation - - - - - - - - - - - - - - - - - - - ->
		<div id="mySidenav" class="sidenav">
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			<a href="#pageone">Instructions</a>
			<a href="#pagetwo">Makeup Template</a>
			<a href="#pagethree">Take a Picture</a>
			<a href="#pagefour">Edit</a>
			<a href="#pagefive">Draw on Lego</a>
		</div>

		<span class="menuBar" style="font-size:30px;cursor:pointer;color:#004877;" onclick="openNav()">&#9776;</span>
		<script>
			function openNav() {
			    document.getElementById("mySidenav").style.width = "250px";
			}

			function closeNav() {
			    document.getElementById("mySidenav").style.width = "0";
			}
		</script>
		<!- - - - - - - - - - - - - - - - - - - - side navigation - - - - - - - - - - - - - - - - - - - ->

		<!- - - - - - - - - - - - - - - - - - - - page transition - - - - - - - - - - - - - - - - - - - ->
		<div id="arrow_prev">
		    <a class="arrowPrev"><span>prev</span></a>
		</div>
		<div id="arrow_next">
		    <a class="arrowNext"><span>next</span></a>
		</div>
		<!- - - - - - - - - - - - - - - - - - - - page transition - - - - - - - - - - - - - - - - - - - ->


		<!- - - - - - - - - - - - - - - - - - - - page one        - - - - - - - - - - - - - - - - - - - ->
		<a name="pageone"></a>
		<section>
			<div class="page1">
				<h1>Welcome to MakeUpBot!</h1>
				<h2>watch tutorial video, then create a perfect make up step by step</h2>
				<div class="Tutorialvideo" align= "center" >
					<iframe src="https://www.youtube.com/embed/9pjpQoZoW6E"></iframe>
				</div>
			</div>
		</section>
		<!- - - - - - - - - - - - - - - - - - - - page one        - - - - - - - - - - - - - - - - - - - ->

		<!- - - - - - - - - - - - - - - - - - - - page two        - - - - - - - - - - - - - - - - - - - ->
		<a name="pagetwo"></a>
		<section>
			<div class="page2">
				<h1>Makeup Template</h1>
				<h2>CLICK to choose make up template or input the image of desired make up</h2>

				<!- - - - - - - - - - - - - - - makeup template - - - - - - - - - - - - - - ->
				<div class="MakeUpTemplate" align= "left">
					<form>
						<fieldset>
							<legend>Choose template</legend>
							<form enctype="multipart/form-data">
								<div class="slideshow-container">
									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">1 / 8</div>
										<img id="s1" src="static/3.png" onclick="imagePicker(1)" style="width:50%">
										<!--div class="text">Caption Text</div-->
								  	</div>

									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">2 / 8</div>
										<img id="s2" src="static/7.png" onclick="imagePicker(2)" style="width:50%">
										<!--div class="text">Caption Two</div-->
									</div>

									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">3 / 8</div>
										<img id="s3" src="static/8.png" onclick="imagePicker(3)" style="width:50%">
										<!--div class="text">Caption Three</div-->
									</div>

									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">4 / 8</div>
										<img id="s4" src="static/13.png" onclick="imagePicker(4)" style="width:50%">
										<!--div class="text">Caption Three</div-->
									</div>

									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">5 / 8</div>
										<img id="s5" src="static/18.png" onclick="imagePicker(5)" style="width:50%">
										<!--div class="text">Caption Three</div-->
									</div>

									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">6 / 8</div>
										<img id="s6" src="static/24.png" onclick="imagePicker(6)" style="width:50%">
										<!--div class="text">Caption Three</div-->
									</div>

									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">7 / 8</div>
										<img id="s7" src="static/36.png" onclick="imagePicker(7)" style="width:50%">
										<!--div class="text">Caption Three</div-->
									</div>

									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">8 / 8</div>
										<img id="s8" src="static/40.png" onclick="imagePicker(8)" style="width:50%">
										<!--div class="text">Caption Three</div-->
									</div>
									<a class="prev" onclick="plusSlides(-1)">❮</a>
									<a class="next" onclick="plusSlides(1)">❯</a>
								</div>

								<br>

								<div style="text-align:center">
									<span class="dot" onclick="currentSlide(1)"></span> 
									<span class="dot" onclick="currentSlide(2)"></span>
									<span class="dot" onclick="currentSlide(3)"></span> 
									<span class="dot" onclick="currentSlide(4)"></span> 
									<span class="dot" onclick="currentSlide(5)"></span> 
									<span class="dot" onclick="currentSlide(6)"></span> 
									<span class="dot" onclick="currentSlide(7)"></span> 
									<span class="dot" onclick="currentSlide(8)"></span> 
								</div>
								<script>
									var slideIndex = 1;
									showSlides(slideIndex);

									function plusSlides(n) {
										showSlides(slideIndex += n);
									}

									function currentSlide(n) {
										showSlides(slideIndex = n);
									}

									function showSlides(n) {
										var i;
										var slides = document.getElementsByClassName("mySlides");
										var dots = document.getElementsByClassName("dot");
										if (n > slides.length) {slideIndex = 1}    
										if (n < 1) {slideIndex = slides.length}
										for (i = 0; i < slides.length; i++) {
											slides[i].style.display = "none";  
										}
										for (i = 0; i < dots.length; i++) {
											dots[i].className = dots[i].className.replace(" active", "");
										}
										slides[slideIndex-1].style.display = "block";  
										dots[slideIndex-1].className += " active";
									}

									function imagePicker(n){
										var elem = document.getElementById('s'+n);

										if (!elem.hasAttribute('chosen')) {
											var att = document.createAttribute('chosen');
											att = 'false';
										}
										if(elem.style.boxShadow == ""){
											elem.style.boxShadow = "inset 0px 0px 3px #8596B0";
											elem.style.border = "2px solid #004877";
											elem.style.borderRadius = "10px";
											elem.setAttribute('chosen','true');
										}
										else{
											elem.style.boxShadow = "";
											elem.style.border = "";
											elem.style.borderRadius = "";
											elem.setAttribute('chosen','false');
										}
										console.log(elem);
									}
								</script>						
						</fieldset>
					</form>
				</div>
				<!- - - - - - - - - - - - - - - makeup template - - - - - - - - - - - - - - ->

				<!- - - - - - - - - - - - - - - makeup input    - - - - - - - - - - - - - - ->
				<div class="InputTemplate" align= "right">
					<form>
					<fieldset>
						<legend>Input yours</legend>
						<input type="file" id="files" name="userMakeupTemplate" multiple />
						<!--progress></progress-->
						<div class="userMakeupTemplateShow">
							<img id="userMakeupTemplateShowImg" src="#" alt="image preview" />
						</div>
					</fieldset>
					</form>
				</div>
				<!- - - - - - - - - - - - - - - makeup input    - - - - - - - - - - - - - - ->
			</div>
		</section>
		<!- - - - - - - - - - - - - - - - - - - - page two        - - - - - - - - - - - - - - - - - - - ->

		<!- - - - - - - - - - - - - - - - - - - - page three      - - - - - - - - - - - - - - - - - - - ->
		<a name="pagethree"></a>
		<section>
			<div class="page3">
				<h1>Take a Picture</h1>
				
				<!- - - - - - - - - - - - - - - webcam          - - - - - - - - - - - - - - ->
			    <script src="static/webcam.js"></script>
			    <div id="my_camera" align= "left"></div>
			    <div id="my_result" align= "right"></div>
			    <div id="takeSnapshot"><button class="button" onclick="take_snapshot()""><span>Take Snapshot</span></button></div>

			    <script language="JavaScript">
			        Webcam.attach( '#my_camera' );

			        function take_snapshot() {
			            Webcam.snap( function(data_uri) {
			                document.getElementById('my_result').innerHTML = '<img src="'+data_uri+'"/>';

							/*
			                console.log("keep ratio");
			                var scale_w = document.getElementById('my_camera').offsetHeight*4/3, scale_h = document.getElementById('my_camera').offsetWidth*3/4;
			                console.log("scale: "+scale_w.toString()+" x "+scale_h.toString());

			                if (document.getElementById('my_camera').offsetWidth / document.getElementById('my_camera').offsetHeight > 4/3 ){
			                	$('my_result').css('width',scale_w+'px');
			                }
			                else{
			                	$('my_result').css('height',scale_h+'px');
			                }

			                console.log($('my_result').attr("width")+" x "+$('my_result').attr("height"));
							*/
			                var sending_msg = {"img":$('#my_result img').attr('src')};
							sendMessage(sending_msg,"transmitting snapshotimg.");

			            } );
			        }

			   	</script>
			    <!- - - - - - - - - - - - - - - webcam          - - - - - - - - - - - - - - ->

			</div>
		</section>
		<!- - - - - - - - - - - - - - - - - - - - page three      - - - - - - - - - - - - - - - - - - - ->

		<!- - - - - - - - - - - - - - - - - - - - page four       - - - - - - - - - - - - - - - - - - - ->
		<a name="pagefour"></a>
		<section>
			<div class="page4">
				<h1>Edit</h1>
				<h2>see how chosen makeup would look like</h2>
				<img id="displayFace" src="" />
				
				<button class="button" id="templateReady" onclick="templateReadyHandler()">Template Ready</button>
				<br><br/>
				<button class="button" id="editFinished" onclick="editFinishedHandler()">Finish editing</button>
				<br><br/>
				<div id="draggableDiv"><img id="draggable" src="" /></div>
				
			</div>
		</section>
		<!- - - - - - - - - - - - - - - - - - - - page four       - - - - - - - - - - - - - - - - - - - ->

		<!- - - - - - - - - - - - - - - - - - - - page five       - - - - - - - - - - - - - - - - - - - ->
		<a name="pagefive"></a>
		<section>
			<div class="page5">
				<h1>Draw on Lego</h1>
				<h2>Start!</h2>
			</div>
		</section>
		<!- - - - - - - - - - - - - - - - - - - - page five       - - - - - - - - - - - - - - - - - - - ->

	</body>
</html>