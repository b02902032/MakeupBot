<!DOCTYPE html>
<html>
    <head>
    	<title>MakeupBot</title>
        <link rel='stylesheet' type='text/css' href='static/stylesheet.css'/>
        <script src="static/jquery.min.js"></script>
        <script type="text/javascript" src="static/json2.js"></script>
        <script type="text/javascript" src="static/javascript.js"></script>
        <script type="text/javascript" src="static/webcam.js"></script>
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <!link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">

    </head>
	<body>

		<!- - - - - - - - - - - - - - - - - - - - side navigation - - - - - - - - - - - - - - - - - - - ->
		<div id="mySidenav" class="sidenav">
			<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
			<a href="#pageone">Instructions</a>
			<a href="#pagetwo">Makeup Template</a>
			<a href="#pagethree">Take a Picture</a>
			<a href="#pagefour">Edit</a>
			<a href="#pagefive">Draw on Lego</a>
		</div>

		<span class="menuBar" style="font-size:30px;cursor:pointer;" onclick="openNav()">&#9776;</span>
		<script>
			function openNav() {
			    document.getElementById("mySidenav").style.width = "250px";
			}

			function closeNav() {
			    document.getElementById("mySidenav").style.width = "0";
			}
		</script>
		<!- - - - - - - - - - - - - - - - - - - - side navigation - - - - - - - - - - - - - - - - - - - ->

		<!- - - - - - - - - - - - - - - - - - - - page transition - - - - - - - - - - - - - - - - - - - ->
		<div id="arrow_prev">
		    <a class="arrowPrev"><span>prev</span></a>
		</div>
		<div id="arrow_next">
		    <a class="arrowNext"><span>next</span></a>
		</div>
		<!- - - - - - - - - - - - - - - - - - - - page transition - - - - - - - - - - - - - - - - - - - ->


		<!- - - - - - - - - - - - - - - - - - - - page one        - - - - - - - - - - - - - - - - - - - ->
		<a name="pageone"></a>
		<section>
			<div class="page1">
				<h1>Welcome to MakeUpBot!</h1>
				<h2>watch tutorial video, then create a perfect make up step by step</h2>
				<div class="Tutorialvideo" align= "center" >
					<iframe src="https://www.youtube.com/embed/9pjpQoZoW6E"></iframe>
				</div>
			</div>
		</section>
		<!- - - - - - - - - - - - - - - - - - - - page one        - - - - - - - - - - - - - - - - - - - ->

		<!- - - - - - - - - - - - - - - - - - - - page two        - - - - - - - - - - - - - - - - - - - ->
		<a name="pagetwo"></a>
		<section>
			<div class="page2">
				<h1>Makeup Template</h1>
				<h2>choose make up template or input the image of desired make up</h2>

				<!- - - - - - - - - - - - - - - makeup template - - - - - - - - - - - - - - ->
				<div class="MakeUpTemplate" align= "left">
					<form>
						<fieldset>
							<legend>Choose template</legend>
							<form enctype="multipart/form-data">
								<div class="slideshow-container">
									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">1 / 3</div>
										<img src="static/img1.jpg" style="width:50%">
										<!--div class="text">Caption Text</div-->
								  	</div>

									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">2 / 3</div>
										<img src="static/img2.jpg" style="width:50%">
										<!--div class="text">Caption Two</div-->
									</div>

									<div class="mySlides fade" id="mySlidesFade">
										<div class="numbertext">3 / 3</div>
										<img src="static/img3.jpg" style="width:50%">
										<!--div class="text">Caption Three</div-->
									</div>

									<a class="prev" onclick="plusSlides(-1)">❮</a>
									<a class="next" onclick="plusSlides(1)">❯</a>
								</div>

								<br>

								<div style="text-align:center">
									<span class="dot" onclick="currentSlide(1)"></span> 
									<span class="dot" onclick="currentSlide(2)"></span> 
									<span class="dot" onclick="currentSlide(3)"></span> 
								</div>
								<script>
									var slideIndex = 1;
									showSlides(slideIndex);

									function plusSlides(n) {
									  showSlides(slideIndex += n);
									}

									function currentSlide(n) {
									  showSlides(slideIndex = n);
									}

									function showSlides(n) {
									  var i;
									  var slides = document.getElementsByClassName("mySlides");
									  var dots = document.getElementsByClassName("dot");
									  if (n > slides.length) {slideIndex = 1}    
									  if (n < 1) {slideIndex = slides.length}
									  for (i = 0; i < slides.length; i++) {
									      slides[i].style.display = "none";  
									  }
									  for (i = 0; i < dots.length; i++) {
									      dots[i].className = dots[i].className.replace(" active", "");
									  }
									  slides[slideIndex-1].style.display = "block";  
									  dots[slideIndex-1].className += " active";
									}
								</script>						
						</fieldset>
					</form>
				</div>
				<!- - - - - - - - - - - - - - - makeup template - - - - - - - - - - - - - - ->

				<!- - - - - - - - - - - - - - - makeup input    - - - - - - - - - - - - - - ->
				<div class="InputTemplate" align= "right">
					<form>
					<fieldset>
						<legend>Input yours</legend>
						<input type="file" id="files" name="userMakeupTemplate" multiple />
						<!--progress></progress-->
						<div class="userMakeupTemplateShow">
							<img id="userMakeupTemplateShowImg" src="#" alt="image preview" />
						</div>
					</fieldset>
					</form>
				</div>
				<!- - - - - - - - - - - - - - - makeup input    - - - - - - - - - - - - - - ->
			</div>
		</section>
		<!- - - - - - - - - - - - - - - - - - - - page two        - - - - - - - - - - - - - - - - - - - ->

		<!- - - - - - - - - - - - - - - - - - - - page three      - - - - - - - - - - - - - - - - - - - ->
		<a name="pagethree"></a>
		<section>
			<div class="page3">
				<h1>Take a Picture</h1>
				
				<!- - - - - - - - - - - - - - - webcam          - - - - - - - - - - - - - - ->
			    <script src="static/webcam.js"></script>
			    <div id="my_camera" align= "left"></div>
			    <div id="my_result" align= "right"></div>
			    <div id="takeSnapshot"><button class="button" onclick="take_snapshot()""><span>Take Snapshot</span></button></div>

			    <script language="JavaScript">
			        Webcam.attach( '#my_camera' );

			        function take_snapshot() {
			            Webcam.snap( function(data_uri) {
			                document.getElementById('my_result').innerHTML = '<img src="'+data_uri+'"/>';
							/*
			                console.log("keep ratio");
			                var scale_w = document.getElementById('my_camera').offsetHeight*4/3, scale_h = document.getElementById('my_camera').offsetWidth*3/4;
			                console.log("scale: "+scale_w.toString()+" x "+scale_h.toString());

			                if (document.getElementById('my_camera').offsetWidth / document.getElementById('my_camera').offsetHeight > 4/3 ){
			                	$('my_result').css('width',scale_w+'px');
			                }
			                else{
			                	$('my_result').css('height',scale_h+'px');
			                }

			                console.log($('my_result').attr("width")+" x "+$('my_result').attr("height"));
							*/
			                var sending_msg = {"img":$('#my_result img').attr('src')};
							sendMessage(sending_msg,"transmitting snapshotimg.");

			            } );
			        }

			   	</script>
			    <!- - - - - - - - - - - - - - - webcam          - - - - - - - - - - - - - - ->

			</div>
		</section>
		<!- - - - - - - - - - - - - - - - - - - - page three      - - - - - - - - - - - - - - - - - - - ->

		<!- - - - - - - - - - - - - - - - - - - - page four       - - - - - - - - - - - - - - - - - - - ->
		<a name="pagefour"></a>
		<section>
			<div class="page4">
				<h1>Edit</h1>
				<h2>see how chosen make up would look like</h2>
				<div id="draggable">Drag me</div>
			</div>
		</section>
		<!- - - - - - - - - - - - - - - - - - - - page four       - - - - - - - - - - - - - - - - - - - ->

		<!- - - - - - - - - - - - - - - - - - - - page five       - - - - - - - - - - - - - - - - - - - ->
		<a name="pagefive"></a>
		<section>
			<div class="page5">
				<h1>Draw on Lego</h1>
				<h2>Start!</h2>
			</div>
		</section>
		<!- - - - - - - - - - - - - - - - - - - - page five       - - - - - - - - - - - - - - - - - - - ->

	</body>
</html>